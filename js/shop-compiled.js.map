{"version":3,"sources":["shop.js"],"names":[],"mappings":"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","file":"shop-compiled.js","sourcesContent":["new Vue({\r\n\tel:'#app',\r\n\tdata:{\r\n\t\t//购物车中的数据\r\n\t\tshopList:[],\r\n\t\tshopseletedAll:false,\r\n\t\tallPrice:0\r\n\t},\r\n\t//组件已经加载完毕，请求网络数据，业务处理\r\n\tmounted(){\r\n\t\t//请求本地的数据\r\n\t\tthis.getLocalData();\t\r\n\t},\r\n\t//过滤器\r\n\tfilters:{\r\n\t\tmoneyFormat(money){\r\n\t\t\treturn '￥'+money.toFixed(2);\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\t//请求本地的数据\r\n\t\tgetLocalData(){\r\n\t\t  // GET /someUrl\r\n\t\t  this.$http.get('data/cart.json').then(response => {\r\n\t\t    const res= response.body;\r\n\t\t    this.shopList=res.allShops.shopList;\r\n\t\t  }, response => {\r\n\t\t    // error callback\r\n\t\t    alert(\"数据请求失败！\");\r\n\t\t  });\r\n\t\t},\r\n\t\t//单件物品数量处理\r\n\t\tshopItemPrice(shopItem,flag){\r\n\t\t\tif(flag){\r\n\t\t\t\tshopItem.shopNumber=shopItem.shopNumber+=1\r\n\t\t\t}else{\r\n\t\t\t\tif(shopItem.shopNumber>0)\r\n\t\t\t\tshopItem.shopNumber=shopItem.shopNumber-=1\r\n\t\t\t}\r\n\t\t\tthis.accountPrice();\r\n\t\t},\r\n\t\t//全选\r\n\t\tselectedAll(){\r\n\t\t\tthis.shopseletedAll=!this.shopseletedAll;\r\n\t\t\tthis.shopList.forEach((val,index)=>{\r\n\t\t\t\tif(typeof val.itemChecked==\"undefined\") {//val.itemChecked==undefined\r\n\t\t\t\t\tthis.$set(val,\"itemChecked\",this.shopseletedAll);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tval.itemChecked=this.shopseletedAll\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.accountPrice();\r\n\r\n\t\t},\r\n\t\t//计算总价\r\n\t\taccountPrice(){\r\n\t\t\tlet allPrice=0;\r\n\t\t\tthis.shopList.forEach((val,index)=>{\r\n\t\t\t\t\tif(val.itemChecked) {\r\n\t\t\t\t\t\tallPrice += val.shopNumber * val.shopPrice;\r\n\t\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.allPrice=allPrice;\r\n\t\t},\r\n\t\t//商品单选框\r\n\t\tselectedItem(shopItem,index){\r\n\t\t\tif(typeof shopItem.itemChecked==\"undefined\") {\r\n\t\t\t\tthis.$set(shopItem,\"itemChecked\",!this.shopseletedAll);\r\n\t\t\t}else{\r\n\t\t\t\tshopItem.itemChecked=!shopItem.itemChecked;\r\n\t\t\t}\r\n\t\t\t//是否全部选中\r\n\t\t\t//出错点事件\r\n\t\t\tlet flag=false;//(PS:出错点)flag=true\r\n\t\t\tthis.shopList.forEach((val,index)=>{\r\n\t\t\t\tif(!val.itemChecked){//只要有一个商品没有被选，就改全选的状态\r\n\t\t\t\t\tflag=true;// flag=false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t//if(flag==true){\r\n\t\t\t\tthis.shopseletedAll=!flag;// =flag 初始值设置有误\r\n\t\t\t//}\r\n\t\t\tthis.accountPrice();\r\n\t\t},\r\n\t\tdelItem(shop,index){\r\n\t\t\tdebugger;\r\n\t\t\tthis.shopList.splice(index,1);\r\n\t\t\tthis.accountPrice();\r\n\t\t}\r\n\t}\r\n})"]}