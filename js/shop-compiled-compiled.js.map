{"version":3,"sources":["shop-compiled.js"],"names":[],"mappings":"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","file":"shop-compiled-compiled.js","sourcesContent":["'use strict';\n\nnew Vue({\n\tel: '#app',\n\tdata: {\n\t\t//购物车中的数据\n\t\tshopList: [],\n\t\tshopseletedAll: false,\n\t\tallPrice: 0\n\t},\n\t//组件已经加载完毕，请求网络数据，业务处理\n\tmounted: function mounted() {\n\t\t//请求本地的数据\n\t\tthis.getLocalData();\n\t},\n\t//过滤器\n\tfilters: {\n\t\tmoneyFormat: function moneyFormat(money) {\n\t\t\treturn '￥' + money.toFixed(2);\n\t\t}\n\t},\n\tmethods: {\n\t\t//请求本地的数据\n\t\tgetLocalData: function getLocalData() {\n\t\t\tvar _this = this;\n\n\t\t\t// GET /someUrl\n\t\t\tthis.$http.get('data/cart.json').then(function (response) {\n\t\t\t\tvar res = response.body;\n\t\t\t\t_this.shopList = res.allShops.shopList;\n\t\t\t}, function (response) {\n\t\t\t\t// error callback\n\t\t\t\talert(\"数据请求失败！\");\n\t\t\t});\n\t\t},\n\t\t//单件物品数量处理\n\t\tshopItemPrice: function shopItemPrice(shopItem, flag) {\n\t\t\tif (flag) {\n\t\t\t\tshopItem.shopNumber = shopItem.shopNumber += 1;\n\t\t\t} else {\n\t\t\t\tif (shopItem.shopNumber > 0) shopItem.shopNumber = shopItem.shopNumber -= 1;\n\t\t\t}\n\t\t\tthis.accountPrice();\n\t\t},\n\t\t//全选\n\t\tselectedAll: function selectedAll() {\n\t\t\tvar _this2 = this;\n\n\t\t\tthis.shopseletedAll = !this.shopseletedAll;\n\t\t\tthis.shopList.forEach(function (val, index) {\n\t\t\t\tif (typeof val.itemChecked == \"undefined\") {\n\t\t\t\t\t//val.itemChecked==undefined\n\t\t\t\t\t_this2.$set(val, \"itemChecked\", _this2.shopseletedAll);\n\t\t\t\t} else {\n\t\t\t\t\tval.itemChecked = _this2.shopseletedAll;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.accountPrice();\n\t\t},\n\t\t//计算总价\n\t\taccountPrice: function accountPrice() {\n\t\t\tvar allPrice = 0;\n\t\t\tthis.shopList.forEach(function (val, index) {\n\t\t\t\tif (val.itemChecked) {\n\t\t\t\t\tallPrice += val.shopNumber * val.shopPrice;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.allPrice = allPrice;\n\t\t},\n\t\t//商品单选框\n\t\tselectedItem: function selectedItem(shopItem, index) {\n\t\t\tif (typeof shopItem.itemChecked == \"undefined\") {\n\t\t\t\tthis.$set(shopItem, \"itemChecked\", !this.shopseletedAll);\n\t\t\t} else {\n\t\t\t\tshopItem.itemChecked = !shopItem.itemChecked;\n\t\t\t}\n\t\t\t//是否全部选中\n\t\t\t//出错点事件\n\t\t\tvar flag = false; //(PS:出错点)flag=true\n\t\t\tthis.shopList.forEach(function (val, index) {\n\t\t\t\tif (!val.itemChecked) {\n\t\t\t\t\t//只要有一个商品没有被选，就改全选的状态\n\t\t\t\t\tflag = true; // flag=false\n\t\t\t\t}\n\t\t\t});\n\t\t\t//if(flag==true){\n\t\t\tthis.shopseletedAll = !flag; // =flag 初始值设置有误\n\t\t\t//}\n\t\t\tthis.accountPrice();\n\t\t},\n\t\tdelItem: function delItem(shop, index) {\n\t\t\tdebugger;\n\t\t\tthis.shopList.splice(index, 1);\n\t\t\tthis.accountPrice();\n\t\t}\n\t}\n});\n\n//# sourceMappingURL=shop-compiled.js.map"]}